/**
 * pong_states.hpp — Skeleton class declarations
 * Rockstar Presents Table Tennis (Xbox 360, 2006)
 *
 * 34 classes — auto-generated by gen_headers_v3.py
 * Sources: rtti_vtable_map | vtable_layout_map | offset_cluster_map
 *          | debug_string_field_map | rtti_class_hierarchy
 *
 * TODO: fill return types, params, inheritance.
 *       Cross-ref recomp/structured_pass5_final/ for each method.
 */
#pragma once
#include <stdint.h>

// charViewCharData and charViewData moved to include/game/char_view.hpp
// See that file for full implementation

// Forward declarations
class pongPageGroup;    // UI page group (type unknown beyond the pointer)
class pongCreditsContext;

// ─────────────────────────────────────────────────────────────────────────────
// creditsData  [vtable @ 0x820766EC]
//
// Data singleton that holds the loaded credits roll content.
// Inherits from an atSingleton-style base (hence slot 20 = IsSupported,
// slot 21 = RegisterFields, slot 22 = GetKey).
// ─────────────────────────────────────────────────────────────────────────────
struct creditsData {
    // +0x00 vtable pointer (implicit)
    // +0x04..+0x1F  base class (atSingleton) data
    void*       m_pNodeList;       // +0x0C  linked list of raw entry nodes
    void*       m_pEntries;        // +0x20  loaded entry array (after RegisterFields)
    void*       m_strName;         // +0x1C  (offset approx — serialised string)
    void*       m_pActiveEntries;  // +0x20  built by BuildActiveList (slot 3)
    uint16_t    m_activeCount;     // +0x26  number of active entries
    uint16_t    m_entryCount;      // +0x26  raw node count (same region, see dtor)
    void*       m_pArray;          // +0x20  final array ptr (slot 3 result)

    virtual ~creditsData();                        // [0]  @ 0x8240C0B8
    virtual void BuildActiveList();                // [3]  @ 0x8240C188
    virtual bool IsSupported(uint32_t assetId) const; // [20] @ 0x8240C070
    virtual void RegisterFields();                 // [21] @ 0x8240C120
    virtual const char* GetKey() const;            // [22] @ 0x8231F358
};

// ─────────────────────────────────────────────────────────────────────────────
// creditsSettings  [vtable @ 0x82076754]
//
// Data singleton for credits display parameters (scroll speed, timing, etc.).
// Inherits from an atSingleton-style base.  Fields at offsets +16 through +44
// are floats/values registered with RegisterFields().
// ─────────────────────────────────────────────────────────────────────────────
struct creditsSettings {
    // +0x00 vtable pointer (implicit)
    // +0x04..+0x0F  base class data
    float   m_scrollSpeed;    // +0x10  pixels/sec scroll rate
    float   m_fadeInTime;     // +0x14
    float   m_fadeOutTime;    // +0x18
    float   m_holdTime;       // +0x1C
    float   m_textScale;      // +0x20
    float   m_lineSpacing;    // +0x24
    float   m_pageSpacing;    // +0x28
    float   m_colour;         // +0x2C  (or colour struct, registered separately)

    virtual bool IsSupported(uint32_t assetId) const; // [20] @ 0x8240C2C0
    virtual void RegisterFields();                     // [21] @ 0x8240C308
};

// ─────────────────────────────────────────────────────────────────────────────
// pongCreditsContext  [vtable @ 0x8205EE04 / secondary @ 0x8205EE6C]
//
// HSM context for the credits screen.  Embedded multiple-inheritance layout:
//   +0x00  primary vtable ptr  (26 slots, primary base)
//   +0x04  primary base data   (up to +0x13)
//   +0x14  secondary vtable ptr (4 slots, inner hsmContext MI base)
//   +0x18  m_pPageGroup        (the UI page group for the credits roll)
//   +0x1C  m_bActive           (byte — whether the credits are currently active)
// ─────────────────────────────────────────────────────────────────────────────
struct pongCreditsContext {
    // (primary vtable implicit)
    uint8_t         _pad_primary[20];       // +0x04..+0x13  base class data
    void*           _secondary_vtable;      // +0x14  MI secondary vtable @ 0x8205EE6C
    pongPageGroup*  m_pPageGroup;           // +0x18  UI page group (null until Init)
    uint8_t         m_bActive;              // +0x1C  credits currently showing

    virtual ~pongCreditsContext(bool shouldFree = false); // [0]  @ 0x82309C38
    virtual bool CanTransition();          // [11] @ 0x82309D38
    virtual void OnEnterCredits();         // [16] @ 0x82309E18
    virtual void OnExitCredits();          // [18] @ 0x82309F38
    virtual void RegisterWithCreditsRoll();// [23] @ 0x82309CA0 (thunk)
};

// ─────────────────────────────────────────────────────────────────────────────
// pongCreditsState  [vtable @ 0x8205EE7C]
//
// HSM leaf state that drives the credits sequence.
// Inherits from pongAttractState.
//   +0x00  vtable ptr
//   +0x04  m_pHSMContext  — rage::hsmContext* (passed to transition helpers)
//   +0x08  m_pContext     — pongCreditsContext* allocated in Init()
// ─────────────────────────────────────────────────────────────────────────────
struct pongCreditsState : public pongAttractState {
    void*               m_pHSMContext;   // +0x04  rage::hsmContext for transitions
    pongCreditsContext* m_pContext;      // +0x08  the live credits context

    virtual ~pongCreditsState(bool shouldFree = false); // [0]  @ 0x8230A000
    virtual void OnEnter(int prevStateIdx);             // [11] @ 0x8230A150
    virtual void OnExit(int nextStateIdx);              // [12] @ 0x8230A268
    virtual void* GetContext();                         // [13] @ 0x82309C28
    virtual void Init();                                // [14] @ 0x8230A068
};
// Helper shared by pongCreditsContext::CanTransition and pongCreditsState::OnEnter
// Sets the page group's visible state and clears the context's m_bActive flag.
void pongCreditsState_9D68_h(pongCreditsContext* ctx, uint8_t visible);  // @ 0x82309D68



// ── hsmState  [7 vtables — template/MI] ──────────────────────────
struct hsmState {
    void**      vtable;           // +0x00

    // ── virtual methods ──
    virtual ~hsmState();                  // [0] @ 0x823b3d30
    virtual void vfn_2();  // [2] @ 0x823ed280
    virtual void vfn_3();  // [3] @ 0x823ed290
    virtual void vfn_4();  // [4] @ 0x823e8d58
    virtual void vfn_12();  // [12] @ 0x823ed3a0
};

// ── pongAttractContext  [2 vtables — template/MI] ──────────────────────────
struct pongAttractContext {
    void**      vtable;           // +0x00

    // ── virtual methods ──
    virtual ~pongAttractContext();                  // [0] @ 0x823055a0
    virtual void vfn_16();  // [16] @ 0x82305600
    virtual void vfn_18();  // [18] @ 0x82305790
};

// ── pongAttractState  [vtable @ 0x8205E0AC] ──────────────────────────
struct pongAttractState {
    void**      vtable;           // +0x00

    // ── virtual methods ──
    virtual void vfn_7();  // [7] @ 0x823057e8
    virtual void vfn_8();  // [8] @ 0x82306ea8
    virtual void vfn_11();  // [11] @ 0x823058e0
    virtual void vfn_12();  // [12] @ 0x823059a8
    virtual void vfn_13();  // [13] @ 0x82305a60
    virtual void vfn_14();  // [14] @ 0x82305800
};

// ── pongBootState  [vtable @ 0x82059684] ──────────────────────────
struct pongBootState {
    void**      vtable;           // +0x00

    // ── virtual methods ──
    virtual void vfn_11();  // [11] @ 0x822c1220
    virtual void vfn_13();  // [13] @ 0x822c1210
};

// pongCharViewContext and pongCharViewState moved to include/game/char_view.hpp
// See that file for full implementation with proper inheritance and structure

struct pongDialogContext {
    void**      vtable;           // +0x00

    // ── virtual methods ──
    virtual ~pongDialogContext();                  // [0] @ 0x8230c7a0
    virtual void vfn_16();  // [16] @ 0x8230c8a8
    virtual void vfn_18();  // [18] @ 0x8230c918
    virtual void vfn_23();  // [23] @ 0x8230c808
};

// ── pongDialogState  [vtable @ 0x8205F2D4] ──────────────────────────
struct pongDialogState {
    void**      vtable;           // +0x00

    // ── virtual methods ──
    virtual ~pongDialogState();                  // [0] @ 0x8230cc20
    virtual void vfn_7();  // [7] @ 0x8230cc88
    virtual void vfn_8();  // [8] @ 0x8230cd60
    virtual void vfn_11();  // [11] @ 0x8230cdd0
    virtual void vfn_12();  // [12] @ 0x8230ced0
    virtual void vfn_13();  // [13] @ 0x8230c790
    virtual void vfn_14();  // [14] @ 0x8230cca0
};

// ── pongFrontendContext  [2 vtables — template/MI] ──────────────────────────
struct pongFrontendContext {
    void**      vtable;           // +0x00

    // ── virtual methods ──
    virtual ~pongFrontendContext();                  // [0] @ 0x8230d110
    virtual void vfn_11();  // [11] @ 0x8230d198
    virtual void vfn_12();  // [12] @ 0x8230d958
    virtual void vfn_14();  // [14] @ 0x8230da70
    virtual void vfn_17();  // [17] @ 0x8230eae8
    virtual void vfn_18();  // [18] @ 0x8230ec00
};

// ── pongFrontendLive  [vtable @ 0x8205DEB4] ──────────────────────────
struct pongFrontendLive {
    void**      vtable;           // +0x00
};

// ── pongFrontendState  [vtable @ 0x8205F79C] ──────────────────────────
// Confirmed methods: WaitForCharLoadToEnd
// Field hints: m_playerIndex:int
struct pongFrontendState {
    void**      vtable;           // +0x00

    // ── virtual methods ──
    virtual void vfn_11();  // [11] @ 0x82310750
    virtual void vfn_12();  // [12] @ 0x82310b20
    virtual void vfn_13();  // [13] @ 0x82310ea8
    virtual void vfn_14();  // [14] @ 0x823106e0

    // ── non-virtual methods (from debug strings) ──
    void WaitForCharLoadToEnd();
};

// ── pongLeaderboardContext  [2 vtables — template/MI] ──────────────────────────
struct pongLeaderboardContext {
    void**      vtable;           // +0x00

    // ── virtual methods ──
    virtual ~pongLeaderboardContext();                  // [0] @ 0x82322ec8
    virtual void vfn_11();  // [11] @ 0x82323020
    virtual void vfn_16();  // [16] @ 0x82323050
    virtual void vfn_18();  // [18] @ 0x82323138
    virtual void vfn_23();  // [23] @ 0x82322f30
};

// ── pongLegalsContext  [vtable @ 0x8205F8FC] ──────────────────────────
struct pongLegalsContext {
    void**      vtable;           // +0x00

    // ── virtual methods ──
    virtual ~pongLegalsContext();                  // [0] @ 0x82310ed0
    virtual void vfn_12();  // [12] @ 0x82310f60
    virtual void vfn_16();  // [16] @ 0x82310fb8
    virtual void vfn_18();  // [18] @ 0x82311070
};

// ── pongLegalsState  [vtable @ 0x8205F964] ──────────────────────────
struct pongLegalsState {
    void**      vtable;           // +0x00

    // ── virtual methods ──
    virtual void vfn_11();  // [11] @ 0x82311280
    virtual void vfn_12();  // [12] @ 0x82311368
    virtual void vfn_13();  // [13] @ 0x82310ec0
    virtual void vfn_14();  // [14] @ 0x823111a8
};

// ── pongLoadingContext  [vtable @ 0x8205E8BC] ──────────────────────────
struct pongLoadingContext {
    void**      vtable;           // +0x00

    // ── virtual methods ──
    virtual void vfn_11();  // [11] @ 0x823078a8
    virtual void vfn_16();  // [16] @ 0x82307a18
    virtual void vfn_18();  // [18] @ 0x82307b00
    virtual void vfn_23();  // [23] @ 0x823078e0
    virtual void vfn_24();  // [24] @ 0x82307980
    virtual void vfn_25();  // [25] @ 0x823079c8
    virtual void vfn_26();  // [26] @ 0x823079d8
    virtual void vfn_27();  // [27] @ 0x82307a00
    virtual void vfn_28();  // [28] @ 0x82307b28
    virtual void vfn_29();  // [29] @ 0x82307d30
    virtual void vfn_30();  // [30] @ 0x82307f48
    virtual void vfn_31();  // [31] @ 0x82308008
};

// ── pongLoadingState  [vtable @ 0x8205E874] ──────────────────────────
struct pongLoadingState {
    void**      vtable;           // +0x00

    // ── virtual methods ──
    virtual void vfn_7();  // [7] @ 0x82308440
    virtual void vfn_8();  // [8] @ 0x823085a8
    virtual void vfn_11();  // [11] @ 0x82308660
    virtual void vfn_12();  // [12] @ 0x823087d8
    virtual void vfn_13();  // [13] @ 0x82308938
    virtual void vfn_14();  // [14] @ 0x82308498
};

// ── pongLogosContext  [vtable @ 0x8205E564] ──────────────────────────
struct pongLogosContext {
    void**      vtable;           // +0x00

    // ── virtual methods ──
    virtual void vfn_14();  // [14] @ 0x82306d48
    virtual void vfn_16();  // [16] @ 0x82306d58
    virtual void vfn_18();  // [18] @ 0x82306da8
};

// ── pongLogosState  [vtable @ 0x8205E51C] ──────────────────────────
struct pongLogosState {
    void**      vtable;           // +0x00

    // ── virtual methods ──
    virtual void vfn_11();  // [11] @ 0x82306f18
    virtual void vfn_12();  // [12] @ 0x82306fd8
    virtual void vfn_13();  // [13] @ 0x82306d38
    virtual void vfn_14();  // [14] @ 0x82306db8
};

// ── pongPauseContext  [2 vtables — template/MI] ──────────────────────────
struct pongPauseContext {
    void**      vtable;           // +0x00

    // ── virtual methods ──
    virtual ~pongPauseContext();                  // [0] @ 0x82308a08
    virtual void vfn_11();  // [11] @ 0x82308a70
    virtual void vfn_16();  // [16] @ 0x82308b68
    virtual void vfn_18();  // [18] @ 0x82308d20
    virtual void vfn_23();  // [23] @ 0x82308ad0
};

// ── pongPauseState  [vtable @ 0x8205EA6C] ──────────────────────────
struct pongPauseState {
    void**      vtable;           // +0x00

    // ── virtual methods ──
    virtual ~pongPauseState();                  // [0] @ 0x82308fe8
    virtual void vfn_11();  // [11] @ 0x82309108
    virtual void vfn_12();  // [12] @ 0x82309250
    virtual void vfn_13();  // [13] @ 0x823089f8
    virtual void vfn_14();  // [14] @ 0x82309050
};

// ── pongStatsContext  [2 vtables — template/MI] ──────────────────────────
struct pongStatsContext {
    void**      vtable;           // +0x00

    // ── virtual methods ──
    virtual ~pongStatsContext();                  // [0] @ 0x82322530
    virtual void vfn_11();  // [11] @ 0x82322598
    virtual void vfn_16();  // [16] @ 0x82322c10
    virtual void vfn_18();  // [18] @ 0x82322e28
};

// ── pongTrainingLoadingContext  [vtable @ 0x8205E944] ──────────────────────────
struct pongTrainingLoadingContext {
    void**      vtable;           // +0x00

    // ── virtual methods ──
    virtual void vfn_23();  // [23] @ 0x82308350
    virtual void vfn_28();  // [28] @ 0x823080d0
    virtual void vfn_29();  // [29] @ 0x823081e8
};

// ── pongTrainingUIContext  [2 vtables — template/MI] ──────────────────────────
struct pongTrainingUIContext {
    void**      vtable;           // +0x00

    // ── virtual methods ──
    virtual ~pongTrainingUIContext();                  // [0] @ 0x82307080
    virtual void vfn_11();  // [11] @ 0x82307120
    virtual void vfn_12();  // [12] @ 0x82307180
    virtual void vfn_16();  // [16] @ 0x823071b8
    virtual void vfn_18();  // [18] @ 0x823072e0
    virtual void vfn_23();  // [23] @ 0x82307420
};

// ── pongTrainingUIState  [vtable @ 0x8205E68C] ──────────────────────────
struct pongTrainingUIState {
    void**      vtable;           // +0x00

    // ── virtual methods ──
    virtual ~pongTrainingUIState();                  // [0] @ 0x82307520
    virtual void vfn_8();  // [8] @ 0x823075a8
    virtual void vfn_12();  // [12] @ 0x82307728
    virtual void vfn_13();  // [13] @ 0x82307070
    virtual void vfn_14();  // [14] @ 0x823077e0
};

// ── rlConcreteStatsView  [2 vtables — template/MI] ──────────────────────────
struct rlConcreteStatsView {
    void**      vtable;           // +0x00

    // ── virtual methods ──
    virtual ~rlConcreteStatsView();                  // [0] @ 0x82336fb0
};
